import{h as b,j as m,e as g,i as N,u as k,c as C,b as t,a as f,g as n,d as c,o as A,f as l,t as i,m as B}from"./index-BNoxkNJn.js";import{f as D}from"./utils-DIZ2_vDv.js";import{_ as M}from"./ChartPage-CiMdW8JC.js";const S={class:"container"},V={class:"latin"},$={style:{"text-align":"center"}},R={__name:"Detail",setup(w){const y=g(),p=b(),o=m(()=>p.speciesList.find(s=>s.id.toString()===y.params.id)),d=m(()=>{const s=o.value.monthly||[],a=[];for(let e=0;e<12;e++){const r=s.find(u=>u.month===e+1);r?a.push(r):a.push({month:e+1,count:0})}return a}),v=m(()=>{const s=d.value.map(e=>`${e.month}月`),a=d.value.map(e=>e.count);return{title:{text:`${o.value.specName}全年目击记录情况`,padding:[5,5,20,5]},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"category",data:s},yAxis:{type:"value"},series:[{name:"记录数 (折线)",type:"line",data:a,markPoint:{color:"#5e00ed",data:[{type:"max",name:"峰值"},{type:"min",name:"峰谷"}]}},{name:"记录数 (柱状)",type:"bar",data:a,markLine:{data:[{type:"average",name:"Avg",itemStyle:{color:"#f56c6c"}}]}}]}}),_=k();N(()=>{p.taxonArr.length===0&&_.replace({name:"Home"})});function h(){_.back()}return(s,a)=>{const e=c("el-descriptions-item"),r=c("el-descriptions"),u=c("el-divider"),x=c("el-button");return A(),C("section",S,[t(r,{title:"鸟种详情"},{default:n(()=>[t(e,{label:"鸟种名"},{default:n(()=>[l(i(o.value.specName),1)]),_:1}),t(e,{label:"拉丁名"},{default:n(()=>[f("i",V,i(o.value.latin),1)]),_:1}),t(e,{label:"英文名"},{default:n(()=>[l(i(o.value.specEnName),1)]),_:1}),t(e,{label:"记录数"},{default:n(()=>[l(i(B(D)(o.value.recordCount)),1)]),_:1}),t(e,{label:"所属科"},{default:n(()=>[l(i(o.value.familyName),1)]),_:1}),t(e,{label:"所属目"},{default:n(()=>[l(i(o.value.orderName),1)]),_:1})]),_:1}),t(u),t(M,{option:v.value},null,8,["option"]),f("p",$,[t(x,{type:"primary",onClick:h},{default:n(()=>a[0]||(a[0]=[l("返回",-1)])),_:1,__:[0]})])])}}};export{R as default};
